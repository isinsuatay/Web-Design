<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://kit.fontawesome.com/d39c3b7e59.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="./style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Ysabeau+Infant:wght@1&display=swap" rel="stylesheet">
    
    <title>SALE</title>
    <style>
    
    </style>
</head>

<body>
    <!-- NavBar -->
    <div class="imgContainer">
        <img id="logo" src="./image/liceria2.png" width="130px" height="100px" alt="logo">
        </div>
    <nav>
        <span id="sidenavOpenButton" style="font-size:30px;cursor:pointer" onclick="openNav()">
            <i class="fa-solid fa-chair" ></i>
        </span>
        <div id="YanMenu" class="sidenav">
            <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">
                <i class="fa-solid fa-xmark"></i>
            </a>

            <a href="./index.html">
                <i class="fa-solid fa-house"></i>
            </a>
            <a href="./newCollection.html">NEW COLLECTION</a>
            <a href="./sale.html">SALE</a>
            <a href="./help.html">HELP</a>
            <a href="./contact.html">CONTACT</a>
        </div>

        <input id="nav-toggle" type="checkbox" />
        <label class='nav-button-container' for="nav-toggle">
            <div class='nav-button'></div>
        </label>

        <ul class="nav">

            <li>
                <div class="dropdown">
                    <button class="dropdown-btn">COLLECTION</button>
                    <div class="dropdown-content">
                        <a href="./furniture.html">
                            <span>
                                <img src="./image/img3.webp" alt="Resim 1">
                                <h3>FURNITURE</h3>
                            </span>
                            <ul>
                                <li>Tables</li>
                                <li>Seating</li>
                                <li>Mirrors</li>
                            </ul>
                        </a>
                        <a href="./lighting.html">
                            <span>
                                <img src="./image/dropdown-2.jpeg" alt="Resim 2">
                                <h3>LIGHTING</h3>
                            </span>
                            <ul>
                                <li>Floor Lights</li>
                                <li>Table Lamps</li>
                                <li>Wall Lights</li>
                            </ul>
                        </a>
                        <a href="./object.html">
                            <span>
                                <img src="./image/img2.webp" alt="Resim 3">
                                <h3>OBJECT & TEXTILES</h3>
                            </span>
                            <ul>
                                <li>Objects</li>
                                <li>Textiles</li>
                            </ul>
                        </a>
                    </div>
                </div>
            </li>
            <li><a href="./index.html">
                    <i id="home" class="fa-solid fa-house" style="color:#d5ccc2 ;"></i>
                </a>
            </li>
            <li>
                <a style="text-decoration: none;" href="./cart.html" id="cart-icon" >
                    <i class="fa-solid fa-bag-shopping" style="color:#d5ccc2 ;"></i>
                    <span style="color: #d5ccc2;" id="cart-item-count">0</span>
                </a>
            </li>
            <li id="login-signin"><button id="loginBtn">Log In</button>

                <div class="popup" id="loginPopup">
                    <div class="popup-content">
                        <span class="close" id="loginCloseBtn">
                            <i class="fa-solid fa-arrow-right-from-bracket"></i>
                        </span>
                        <h2>Log In</h2>
                        <form id="loginForm">
                            <input type="email" placeholder="E-mail" required>
                            <input type="password" placeholder="Password" required>
                            <button type="submit">Log In</button>
                        </form>
                    </div>
                </div>

                <button id="registerBtn">Sign In</button>

                <div class="popup" id="registerPopup">
                    <div class="popup-content">
                        <span class="close" id="registerCloseBtn">
                            <i class="fa-solid fa-arrow-right-from-bracket"></i>
                        </span>
                        <h2>Sign In</h2>
                        <form id="registerForm">
                            <input type="text" placeholder="Name" required>
                            <input type="text" placeholder="Surname" required>
                            <input type="email" placeholder="E-mail" required>
                            <input type="password" placeholder="Password" required>
                            <button type="submit">Sign In</button>
                        </form>
                    </div>
                </div>

                <button id="logoutBtn" style="display: none;">
                    <i class="fa-solid fa-arrow-right-from-bracket"></i>
                </button>
            </li>
        </ul>
    </nav>
    <!-- ------------- -->
    <div class="innerMainSite">
        <div id="product-list">
        </div>
    </div>

    <div id="cart-items"></div>

    <!-- ******** Footer ********* -->
    <footer>
        <form>
            <input type="email" id="email" placeholder="JOIN OUR NEWSLETTER- ENTER YOUR EMAİL">
            <label for="email"></label>
            <div class="line"></div>


            <div id="checkboxContainer" style="display: none;">
                <label for="checkbox">I have read and accept the <a href="./indexP.html">Privacy Policy</a> </label>
                <input type="checkbox" id="checkbox" name="checkbox">
            </div>
        </form>

        <button id="subscribe">SUBSCRIBE ME</button>

        <div class="part">
            <div class="left">
                <h5>Follow us on</h5>
                <div class="line2"></div>

                <ul>
                    <li><i class="fa-brands fa-facebook-f"></i></li>
                    <li><i class="fa-brands fa-instagram"></i></li>
                    <li><i class="fa-brands fa-youtube"></i></li>
                    <li><i class="fa-brands fa-twitter"></i></li>
                    <li><i class="fa-brands fa-pinterest-p"></i></li>
                </ul>
            </div>
            <div class="right">
                <h5>Download our app</h5>
                <div class="line2"></div>

                <img src="./image/Unknown.png" width="60px" height="60px" alt="">
            </div>
        </div>

        <div class="lastPart">
            <ul>
                <li>
                    <ul>POLICIES
                        <br><br>

                        <li><a href="">TERMS AND CONDITIONS</a></li>
                        <li><a href="./indexP.html">PRIVACY POLICY</a></li>
                        <li><a href="">COOKIES POLICY</a></li>
                        <li><a href="">COOKIES SETTINGS</a>
                        </li>
                    </ul>
                </li>
            </ul>
            <ul>
                <li>
                    <ul>COMPANY
                        <br><br>
                        <li><a href="">WORK WITH US</a></li>
                        <li><a href="">PRESS</a></li>
                        <li><a href="">ABOUT US</a></li>
                    </ul>
                </li>
            </ul>
            <ul>
                <li>
                    <ul>CONTACT

                        <br><br>
                        <li><a href="">CONTACT US</a></li>
                        <li><a href="">HELP</a></li>
                        <li><a href="">STORES</a></li>
                        <li></li>
                    </ul>
                </li>
            </ul>
        </div>

    </footer>

    <script>


        let cartItems = [];

        window.onload = function () {
            fetchProducts();
            loadCartItems();

        };

        function fetchProducts() {
            fetch('data.json')
                .then(response => response.json())
                .then(data => {
                    const saleProducts = data.filter(product => product.category === "sale");
                    productsPart(saleProducts);
                })
                .catch(error => {
                    console.error('Hata!', error);
                });
        }


        
        function productsPart(products) {
            const productListDiv = document.getElementById("product-list");
            productListDiv.innerHTML = "";

            products.forEach(product => {
                const productDiv = document.createElement("div");
                const productImage = document.createElement("img");
                productImage.src = product.src;
                productImage.alt = product.name; 
                productDiv.appendChild(productImage);

                const productName = document.createElement("p");
                productName.textContent = product.name;
                productDiv.appendChild(productName);

                const productPrice = document.createElement("p");
                productPrice.textContent = `${product.price} £`;
                productDiv.appendChild(productPrice);

                const addToCartButton = document.createElement("button");
                addToCartButton.innerHTML = "ADD TO BASKET";
                addToCartButton.classList.add("basketButton");

                addToCartButton.addEventListener("click", () => addToCart(product)); 
                productDiv.appendChild(addToCartButton);

                productListDiv.appendChild(productDiv);
            });
        }

        function addToCart(product) {
            cartItems.push(product);
            saveCartItems(); 
            updateCartItemCount();
        }

        function saveCartItems() {
            localStorage.setItem("cartItems", JSON.stringify(cartItems));
        }

        function loadCartItems() {
            if (localStorage.getItem("cartItems")) {
                cartItems = JSON.parse(localStorage.getItem("cartItems"));
                updateCartItemCount();
            }
        }

        function updateCartItemCount() {
            const cartItemCountElement = document.getElementById("cart-item-count");
            cartItemCountElement.textContent = cartItems.length;
        }

    
        

    </script>
    <script src="./main.js"></script>
</body>

</html>